{"version":3,"sources":["biblica.onlinebible.js"],"names":["biblica","onlineBibleVersion","elm","$","jQuery","this","header","find","content","verseTools","init","sharetemplate","prototype","t","verseView","size","hide","next","click","e","stopPropagation","preventDefault","slideUp","fadeIn","show","html","append","document","parent","removeClass","addthis","update","location","href","url","title","toolbox","hash","indexOf","addClass","toggleContextualMenu","clicked","hasClass","focus","css","top","position","height","left","verseId","attr","verseContent","text","shareUrl","split","close","remove"],"mappings":"AAQAA,QAA8B,oBAAZA,QAA2B,GAAKA,QAKlDA,QAAQC,mBAAqB,SAASC,GACrC,IAAIC,EAAIC,OACRC,KAAKH,IAAMC,EAAED,GACbG,KAAKC,OAASD,KAAKH,IAAIK,KAAK,WAC5BF,KAAKG,QAAUH,KAAKH,IAAIK,KAAK,YAC7BF,KAAKI,WAAaN,EAAE,iDACpBE,KAAKK,QAGNV,QAAQC,mBAAmBU,cAAgB,kXAY3CX,QAAQC,mBAAmBW,UAAY,CACtCF,KAAM,WACL,IAAIP,EAAIC,OACJS,EAAIR,KAUJS,EAAYT,KAAKH,IAAIK,KAAK,iBAC3BO,EAAUC,SACZV,KAAKG,QAAQQ,OAAOC,OAAOD,OAC3BX,KAAKH,IAAIK,KAAK,2BAA2BW,OAAM,SAASC,GACvDA,EAAEC,kBACFD,EAAEE,iBACFP,EAAUQ,QAAQ,KAClBT,EAAEL,QAAQe,OAAO,KAAKN,OAAOO,WAK/BnB,KAAKI,WAAWgB,KAAK,+JACrBpB,KAAKH,IAAIwB,OAAOrB,KAAKI,WAAWO,QAMhCb,EAAEwB,UAAUT,OAAM,WACjBL,EAAEJ,WAAWO,OACbH,EAAEL,QAAQD,KAAK,YAAYqB,SAASC,YAAY,UAChDhB,EAAEL,QAAQD,KAAK,YAAYsB,YAAY,cAGxC1B,EAAE,2BAA2Be,OAAM,SAASC,GACxCW,UACFA,QAAQC,OAAO,QAAS,MAAOJ,SAASK,SAASC,MACjDH,QAAQI,IAAMP,SAASK,SAASC,KAChCH,QAAQC,OAAO,QAAS,QAASJ,SAASQ,OAC1CL,QAAQK,MAAQR,SAASQ,MACzBL,QAAQM,QAAQ,wBAKfT,SAASK,SAASK,MAAQV,SAASK,SAASK,KAAKC,QAAQ,UAAY,GACvEnC,EAAEwB,SAASK,SAASK,MAAME,SAAS,WAIrCC,qBAAsB,SAASC,GAC3BA,EAAQC,SAAS,YACnBD,EAAQZ,YAAY,WAAWc,QAC/BtC,KAAKI,WAAWO,OAChByB,EAAQb,SAASC,YAAY,YAE7BxB,KAAKG,QAAQD,KAAK,YAAYsB,YAAY,WAC1CxB,KAAKI,WAAWmC,IAAI,CACnBC,IAAKJ,EAAQK,WAAWD,IAAMJ,EAAQM,SACtCC,KAAMP,EAAQK,WAAWE,KAAO,IAEjCP,EAAQF,SAAS,WACjBlC,KAAKI,WAAWe,OAAOmB,QAAQpC,KAAK,WACpCkC,EAAQb,SAASW,SAAS,WAG3B,IAAIU,EAAUR,EAAQb,SAASsB,KAAK,MAChCC,EAAeV,EAAQb,SAASwB,OAChCC,EAAW1B,SAASK,SAASC,KAAKqB,MAAM,KAAK,GAAG,IAAIL,EAErDnB,UACFA,QAAQC,OAAO,QAAS,MAAOsB,GAC/BvB,QAAQI,IAAMmB,EACdvB,QAAQC,OAAO,QAAS,QAASoB,GACjCrB,QAAQK,MAAQgB,EAChBrB,QAAQM,QAAQ,sBAGlBmB,MAAO,WACN,IAAIpD,EAAIC,OACRC,KAAKH,IAAIsD,SACTrD,EAAE,0BAA0B0B,YAAY,8BAA8BU,SAAS","file":"biblica.onlinebible.min.js","sourcesContent":["/*\n * Copyright Â© 2022 by Biblica, Inc. (https://www.biblica.com)\n * Licensed under MIT (https://opensource.org/licenses/MIT)\n */\n\n/**\n@namespace Biblica\n*/\nbiblica = (typeof biblica === 'undefined') ? {} : biblica;\n\n/**\n@namespace Online Bible Reading UI constructor\n*/\nbiblica.onlineBibleVersion = function(elm) {\n\tvar $ = jQuery;\n\tthis.elm = $(elm);\n\tthis.header = this.elm.find('.header');\n\tthis.content = this.elm.find('.content');\n\tthis.verseTools = $('<ul class=\"tools verse-tools\" tabindex=\"0\" />');\n\tthis.init();\n};\n\nbiblica.onlineBibleVersion.sharetemplate = '<div class=\"addthis_toolbox addthis_default_style addthis_32x32_style\" addthis:url=\"\" addthis:title=\"\">'+\n\t\t\t\t\t\t\t\t\t'<a class=\"addthis_button_preferred_1\"></a>'+\n\t\t\t\t\t\t\t\t\t'<a class=\"addthis_button_preferred_2\"></a>'+\n\t\t\t\t\t\t\t\t\t'<a class=\"addthis_button_preferred_3\"></a>'+\n\t\t\t\t\t\t\t\t\t'<a class=\"addthis_button_preferred_4\"></a>'+\n\t\t\t\t\t\t\t\t\t'<a class=\"addthis_button_compact\"></a>'+\n\t\t\t\t\t\t\t\t\t'<a class=\"addthis_counter addthis_bubble_style\"></a>'+\n\t\t\t\t\t\t\t\t'</div>';\n\n/** \n@namespace Online Bible Reading UI prototype\n*/\nbiblica.onlineBibleVersion.prototype = {\n\tinit: function() {\n\t\tvar $ = jQuery;\n\t\tvar t = this;\n\t\n\t\t// Activate close button\n\t\t/*this.header.find('.btn-close').click(function(e) {\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n\t\t\tt.close();\n\t\t});*/\n\t\t\n\t\t// Activate single verse view\n\t\tvar verseView = this.elm.find('.single-verse');\n\t\tif(verseView.size()) {\n\t\t\tthis.content.hide().next().hide();\n\t\t\tthis.elm.find('.single-verse .btn-show').click(function(e) {\n\t\t\t\te.stopPropagation();\n\t\t\t\te.preventDefault();\n\t\t\t\tverseView.slideUp(300);\n\t\t\t\tt.content.fadeIn(300).next().show();\n\t\t\t});\n\t\t}\n\t\t\n\t\t// Activate contextual menus on verse numbers\n\t\tthis.verseTools.html('<li class=\"share\"><a class=\"icon-share\" href=\"#share\" data-toggle=\"modal\" data-backdrop=\"false\"><span class=\"fa fa-share\" role=\"img\"></span> Share</a></li>');\n\t\tthis.elm.append(this.verseTools.hide());\n\t\t// this.content.find('.versenum').click(function(e) {\n\t\t// \te.stopPropagation();\n\t\t// \te.preventDefault();\n\t\t// \tt.toggleContextualMenu($(this));\n\t\t// });\n\t\t$(document).click(function() {\n\t\t\tt.verseTools.hide();\n\t\t\tt.content.find('.toggled').parent().removeClass('shared');\n\t\t\tt.content.find('.toggled').removeClass('toggled');\n\t\t});\n\t\t\n\t\t$('.header .tools .share a').click(function(e) {\n\t\t\tif(addthis) {\n\t\t\t\taddthis.update('share', 'url', document.location.href);\n\t\t\t\taddthis.url = document.location.href;\n\t\t\t\taddthis.update('share', 'title', document.title);\n\t\t\t\taddthis.title = document.title;\n\t\t\t\taddthis.toolbox(\".addthis_toolbox\");\n\t\t\t}\n\t\t});\n\t\t\n\t\t//Mark selected verse\n\t\tif(document.location.hash && document.location.hash.indexOf('verse') > -1) {\n\t\t\t$(document.location.hash).addClass('shared');\n\t\t}\n\t\t\n\t},\n\ttoggleContextualMenu: function(clicked) {\n\t\tif(clicked.hasClass('toggled')) {\n\t\t\tclicked.removeClass('toggled').focus();\n\t\t\tthis.verseTools.hide();\n\t\t\tclicked.parent().removeClass('shared');\n\t\t} else {\n\t\t\tthis.content.find('.toggled').removeClass('toggled');\n\t\t\tthis.verseTools.css({\n\t\t\t\ttop: clicked.position().top + clicked.height(),\n\t\t\t\tleft: clicked.position().left - 1\n\t\t\t});\n\t\t\tclicked.addClass('toggled');\n\t\t\tthis.verseTools.show().focus().find('a:first');\n\t\t\tclicked.parent().addClass('shared');\n\t\t}\n\t\t// Verse sharing\n\t\tvar verseId = clicked.parent().attr('id');\n\t\tvar verseContent = clicked.parent().text();\n\t\tvar shareUrl = document.location.href.split('#')[0]+'#'+verseId;\n\t\t\n\t\tif(addthis) {\n\t\t\taddthis.update('share', 'url', shareUrl);\n\t\t\taddthis.url = shareUrl;\n\t\t\taddthis.update('share', 'title', verseContent);\n\t\t\taddthis.title = verseContent;\n\t\t\taddthis.toolbox(\".addthis_toolbox\");\n\t\t}\n\t},\n\tclose: function() {\n\t\tvar $ = jQuery;\n\t\tthis.elm.remove();\n\t\t$('#online-bible .version').removeClass('version-secondary col-md-6').addClass('version-primary col-md-12');\n\t}\n};\n"]}